<div sd-modal data-model="true" data-full="true" class="modal--fullscreen publisherManager" ng-init="webPublisher.activeTab = 'general'">
    <div class="modal__header">
        <h3 class="modal__heading pull-left"><span translate>Manage:</span> <b>{{webPublisher.selectedSite.name}}</b></h3>
        <div class="pull-right">
            <a class="btn btn--success" target="_blank"
                ng-href="{{webPublisher.selectedSite.subdomain ? 'http://' + webPublisher.selectedSite.subdomain + '.' + webPublisher.selectedSite.domainName: 'http://' + webPublisher.selectedSite.domainName}}">
                <i class="icon-globe"></i>{{ 'Open website' | translate }}
            </a>
            <button class="btn" ng-click="webPublisher.toggleEditSite()" translate>Close</button>
            <button
                class="btn"
                ng-disabled="webPublisher.siteForm.$invalid || !webPublisher.siteForm.$dirty"
                ng-show="webPublisher.activeTab === 'general'"
                ng-click="webPublisher.cancelEditSite()"
                translate>Cancel</button>
            <button
                class="btn btn--primary"
                ng-disabled="webPublisher.siteForm.$invalid || !webPublisher.siteForm.$dirty"
                ng-show="webPublisher.activeTab === 'general'"
                ng-click="webPublisher.saveSite()"
                translate>Save</button>

            <button
                class="btn"
                ng-disabled="webPublisher.themeSettingsForm.$invalid || !webPublisher.themeSettingsForm.$dirty"
                ng-show="webPublisher.activeTab === 'theme-settings'"
                ng-click="webPublisher.cancelEditThemeSettings()"
                translate>Cancel</button>
            <button
                class="btn btn--primary"
                ng-disabled="webPublisher.themeSettingsForm.$invalid || !webPublisher.themeSettingsForm.$dirty"
                ng-show="webPublisher.activeTab === 'theme-settings'"
                ng-click="webPublisher.saveThemeSettings()"
                translate>Save</button>
        </div>
    </div>
    <div class="modal__body">
        <div class="sidebarLayout removeContentPadding">
            <div class="sidebarLayout__sidebar">
                <ul class="nav nav--stackedPublisher">
                    <li ng-class="{active: webPublisher.activeTab === 'general'}">
                        <button ng-click="webPublisher.changeTab('general')"
                            ng-disabled="webPublisher.themeSettingsForm.$dirty"
                            translate>General</button>
                    </li>
                    <li ng-class="{active: webPublisher.activeTab === 'routes'}"
                        ng-if="!webPublisher.selectedSite.outputChannel">
                        <button ng-click="webPublisher.changeTab('routes')"
                            ng-disabled="!webPublisher.selectedSite.code || webPublisher.siteForm.$dirty || webPublisher.themeSettingsForm.$dirty"
                            translate>Routes</button>
                    </li>
                    <li ng-class="{active: webPublisher.activeTab === 'navigation' || webPublisher.activeTab === 'navigation-menu'}"
                        ng-if="!webPublisher.selectedSite.outputChannel">
                        <button ng-click="webPublisher.changeTab('navigation')"
                            ng-disabled="!webPublisher.selectedSite.code || webPublisher.siteForm.$dirty || webPublisher.themeSettingsForm.$dirty"
                            translate>Navigation</button>
                    </li>
                    <li ng-class="{active: webPublisher.activeTab === 'theme-manager'}"
                        ng-if="!webPublisher.selectedSite.outputChannel">
                        <button ng-click="webPublisher.changeTab('theme-manager')"
                            ng-disabled="!webPublisher.selectedSite.code || webPublisher.siteForm.$dirty || webPublisher.themeSettingsForm.$dirty"
                            translate>Theme</button>
                    </li>
                    <li ng-class="{active: webPublisher.activeTab === 'theme-settings'}"
                        ng-show="webPublisher.themeSettings.settings.length"
                        ng-if="!webPublisher.selectedSite.outputChannel">
                        <button ng-click="webPublisher.changeTab('theme-settings')"
                            ng-disabled="!webPublisher.selectedSite.code || webPublisher.siteForm.$dirty"
                            translate>Theme Customization</button>
                    </li>
                </ul>
            </div>
            <div class="sidebarLayout__content" ng-switch="webPublisher.activeTab">
                <div ng-switch-when="general">
                    <div ng-include="'general.html'"></div>
                </div>
                <div ng-switch-when="routes">
                    <div ng-include="'routes.html'"></div>
                </div>
                <div ng-switch-when="navigation">
                    <div ng-include="'navigation.html'"></div>
                </div>
                <div ng-switch-when="navigation-menu">
                    <div ng-include="'navigation-menu-tree.html'"></div>
                </div>
                <div ng-switch-when="theme-manager">
                    <div class="contentPadding">
                        <div sd-theme-manager data-site="webPublisher.selectedSite" activated-callback="webPublisher.themeActivatedCallback()" data-grid="4"></div>
                    </div>
                </div>
                <div ng-switch-when="theme-settings">
                    <div ng-include="'theme-settings.html'"></div>
                </div>
            </div>
        </div>
    </div>
</div>
